---
// Product Grid Component for POS
---

<div class="pos-product-grid h-full overflow-y-auto">
  <!-- Category Tabs -->
  <div class="sticky top-0 bg-white border-b border-gray-200 p-4 z-10">
    <div class="flex space-x-2 overflow-x-auto">
      <button data-category="all" class="px-4 py-2 bg-blue-500 text-white rounded-lg whitespace-nowrap">Tất cả</button>
      <button data-category="cpu" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 whitespace-nowrap">CPU</button>
      <button data-category="vga" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 whitespace-nowrap">VGA</button>
      <button data-category="ram" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 whitespace-nowrap">RAM</button>
      <button data-category="mainboard" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 whitespace-nowrap">Mainboard</button>
      <button data-category="storage" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 whitespace-nowrap">Ổ cứng</button>
      <button data-category="psu" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 whitespace-nowrap">Nguồn</button>
      <button data-category="case" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 whitespace-nowrap">Case</button>
    </div>
  </div>

  <!-- Product Grid -->
  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-4">
    <!-- Sample Products -->
    <div class="pos-product-card bg-white rounded-lg border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow relative"
         data-product data-product-id="1" data-category="cpu"
         data-add-to-cart data-product-name="Intel Core i7-13700K" data-product-price="12500000" data-stock="25">
      <div class="aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center">
        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
        </svg>
      </div>
      <h3 class="font-medium text-sm text-gray-900 mb-1" data-product-name>Intel Core i7-13700K</h3>
      <p class="text-xs text-gray-500 mb-2" data-product-code>CPU Intel Socket 1700</p>
      <div class="flex justify-between items-center">
        <span class="text-sm font-bold text-blue-600">12,500,000₫</span>
        <span class="text-xs text-green-600">Còn: 25</span>
      </div>
    </div>

    <div class="pos-product-card bg-white rounded-lg border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow relative"
         data-product data-product-id="2" data-category="vga"
         data-add-to-cart data-product-name="NVIDIA RTX 4080" data-product-price="35000000" data-stock="8">
      <div class="aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center">
        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
        </svg>
      </div>
      <h3 class="font-medium text-sm text-gray-900 mb-1" data-product-name>NVIDIA RTX 4080</h3>
      <p class="text-xs text-gray-500 mb-2" data-product-code>VGA NVIDIA 16GB</p>
      <div class="flex justify-between items-center">
        <span class="text-sm font-bold text-blue-600">35,000,000₫</span>
        <span class="text-xs text-yellow-600">Còn: 8</span>
      </div>
    </div>

    <div class="pos-product-card bg-white rounded-lg border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow opacity-50"
         data-product data-product-id="3" data-category="ram"
         data-add-to-cart data-product-name="Corsair Vengeance 32GB" data-product-price="4200000" data-stock="0">
      <div class="aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center">
        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
        </svg>
      </div>
      <h3 class="font-medium text-sm text-gray-900 mb-1" data-product-name>Corsair Vengeance 32GB</h3>
      <p class="text-xs text-gray-500 mb-2" data-product-code>RAM DDR5 32GB</p>
      <div class="flex justify-between items-center">
        <span class="text-sm font-bold text-blue-600">4,200,000₫</span>
        <span class="text-xs text-red-600">Hết hàng</span>
      </div>
      <div class="absolute inset-0 bg-gray-500 bg-opacity-20 rounded-lg flex items-center justify-center">
        <span class="text-red-600 font-bold text-sm">HẾT HÀNG</span>
      </div>
    </div>

    <div class="pos-product-card bg-white rounded-lg border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow relative"
         data-product data-product-id="4" data-category="mainboard"
         data-add-to-cart data-product-name="ASUS ROG Strix B650" data-product-price="6800000" data-stock="15">
      <div class="aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center">
        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
        </svg>
      </div>
      <h3 class="font-medium text-sm text-gray-900 mb-1" data-product-name>ASUS ROG Strix B650</h3>
      <p class="text-xs text-gray-500 mb-2" data-product-code>Mainboard AMD AM5</p>
      <div class="flex justify-between items-center">
        <span class="text-sm font-bold text-blue-600">6,800,000₫</span>
        <span class="text-xs text-green-600">Còn: 15</span>
      </div>
    </div>

    <div class="pos-product-card bg-white rounded-lg border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow relative"
         data-product data-product-id="5" data-category="storage"
         data-add-to-cart data-product-name="Samsung 980 PRO 1TB" data-product-price="2800000" data-stock="32">
      <div class="aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center">
        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
        </svg>
      </div>
      <h3 class="font-medium text-sm text-gray-900 mb-1" data-product-name>Samsung 980 PRO 1TB</h3>
      <p class="text-xs text-gray-500 mb-2" data-product-code>SSD NVMe M.2</p>
      <div class="flex justify-between items-center">
        <span class="text-sm font-bold text-blue-600">2,800,000₫</span>
        <span class="text-xs text-green-600">Còn: 32</span>
      </div>
    </div>

    <div class="pos-product-card bg-white rounded-lg border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow relative"
         data-product data-product-id="6" data-category="psu"
         data-add-to-cart data-product-name="Corsair RM850x" data-product-price="3200000" data-stock="12">
      <div class="aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center">
        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
        </svg>
      </div>
      <h3 class="font-medium text-sm text-gray-900 mb-1" data-product-name>Corsair RM850x</h3>
      <p class="text-xs text-gray-500 mb-2" data-product-code>PSU 850W 80+ Gold</p>
      <div class="flex justify-between items-center">
        <span class="text-sm font-bold text-blue-600">3,200,000₫</span>
        <span class="text-xs text-green-600">Còn: 12</span>
      </div>
    </div>
  </div>
</div>

<script>
  // Add click handlers for product cards
  document.addEventListener('DOMContentLoaded', function() {
    const productCards = document.querySelectorAll('.pos-product-card');

    productCards.forEach(card => {
      card.addEventListener('click', function() {
        const productId = this.dataset.productId;
        const productName = this.dataset.productName;
        const productPrice = parseFloat(this.dataset.productPrice);
        const stock = parseInt(this.dataset.stock || '0');

        // Check if product is out of stock
        if (stock <= 0) {
          alert('Sản phẩm đã hết hàng!');
          return;
        }

        // Dispatch custom event to add product to cart
        const event = new CustomEvent('addToCart', {
          detail: {
            id: productId,
            name: productName,
            price: productPrice,
            stock: stock
          }
        });

        document.dispatchEvent(event);

        // Visual feedback
        this.classList.add('ring-2', 'ring-blue-500');
        setTimeout(() => {
          this.classList.remove('ring-2', 'ring-blue-500');
        }, 300);
      });
    });
  });
</script>