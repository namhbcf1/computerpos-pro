---
export async function getStaticPaths() {
  return [
    { params: { id: '1' } },
    { params: { id: '2' } },
    { params: { id: '3' } },
  ];
}

const { id } = Astro.params;
---

<script>
// Redirect to product detail page with proper ID handling
if (typeof window !== 'undefined') {
  const productId = new URLSearchParams(window.location.search).get('id') || window.location.pathname.split('/').pop();
  if (productId && productId !== '[id]') {
    window.location.href = `/products/index.html?id=${productId}`;
  } else {
    window.location.href = '/products/';
  }
}
</script>

<p>Redirecting to product details...</p>