---
export const prerender = false;

// This is a dynamic route that will be handled by the server
const { id } = Astro.params;
---

<script>
// Redirect to product edit page with proper ID handling
if (typeof window !== 'undefined') {
  const productId = new URLSearchParams(window.location.search).get('id') || window.location.pathname.split('/').pop();
  if (productId && productId !== '[id]') {
    window.location.href = `/products/index.html?edit=${productId}`;
  } else {
    window.location.href = '/products/';
  }
}
</script>

<p>Redirecting to product edit...</p>