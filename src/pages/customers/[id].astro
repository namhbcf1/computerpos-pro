---
export async function getStaticPaths() {
  // Generate some sample customer IDs for static generation
  return [
    { params: { id: '1' } },
    { params: { id: '2' } },
    { params: { id: '3' } },
  ];
}

const { id } = Astro.params;
---

<script>
// Redirect to customer detail page with proper ID handling
if (typeof window !== 'undefined') {
  const customerId = new URLSearchParams(window.location.search).get('id') || window.location.pathname.split('/').pop();
  if (customerId && customerId !== '[id]') {
    window.location.href = `/customers/index.html?id=${customerId}`;
  } else {
    window.location.href = '/customers/';
  }
}
</script>

<p>Redirecting to customer details...</p>